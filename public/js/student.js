!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";t.a=function(){window.$("#feedback-btn button").on("click",function(){window.$("#feedback-btn").hasClass("open")&&window.$("#feedback-btn").hasClass("msg")?(window.$(this).blur(),window.$("#feedback-panel").animate({right:"-64px"},{duration:250,easing:"swing",queue:!1}),window.$("#feedback-type").animate({right:"-57px"},{duration:250,easing:"swing",queue:!1}),window.$("#feedback-msg").animate({right:"-240px"},250,"swing",function(){window.$("#feedback-btn").removeClass("open msg")})):window.$("#feedback-btn").hasClass("open")?(window.$(this).blur(),window.$("#feedback-panel").animate({right:"-64px"},250,"swing"),window.$("#feedback-type").animate({right:"-57px"},250,"swing",function(){window.$("#feedback-btn").removeClass("open")})):(window.$(this).blur(),window.$("#feedback-panel").animate({right:"-9px"},250,"swing"),window.$("#feedback-type").animate({right:"0px"},250,"swing",function(){window.$("#feedback-btn").addClass("open")}))}),window.$(".fb-bt.bt1").hover(function(){window.$(this).css("background-color","#23CE47")},function(){window.$(this).css("background-color","#21BA45")}),window.$(".fb-bt.bt2").hover(function(){window.$(this).css("background-color","#00C9C1")},function(){window.$(this).css("background-color","#00B5AD")}),window.$(".fb-bt.bt3").hover(function(){window.$(this).css("background-color","#EF2A2A")},function(){window.$(this).css("background-color","#DB2828")}),window.$(".fb-bt").on("click",function(){window.$("#feedback-btn").hasClass("msg")||(window.$("#feedback-panel").animate({right:"232px"},250,"swing"),window.$("#feedback-type").animate({right:"240px"},250,"swing"),window.$("#feedback-msg").animate({right:"0px"},250,"swing",function(){window.$("#feedback-btn").addClass("msg")}))}),window.$(".fb-bt.bt1").on("click",function(){window.$("#send-btn").removeClass("green red teal"),window.$("#send-btn").addClass("green"),window.$("#msg-type").css("background-color","#21BA45"),window.$("#msg-type i").removeClass("smile frown heart"),window.$("#msg-type i").addClass("smile"),window.$("#mtype").val("smile")}),window.$(".fb-bt.bt2").on("click",function(){window.$("#send-btn").removeClass("green red teal"),window.$("#send-btn").addClass("teal"),window.$("#msg-type").css("background-color","#00B5AD"),window.$("#msg-type i").removeClass("smile frown heart"),window.$("#msg-type i").addClass("frown"),window.$("#mtype").val("frown")}),window.$(".fb-bt.bt3").on("click",function(){window.$("#send-btn").removeClass("green red teal"),window.$("#send-btn").addClass("red"),window.$("#msg-type").css("background-color","#DB2828"),window.$("#msg-type i").removeClass("smile frown heart"),window.$("#msg-type i").addClass("heart"),window.$("#mtype").val("heart")}),window.$(document).on("mouseup",function(e){var t=window.$("#feedback-panel");!t.is(e.target)&&0===t.has(e.target).length&&window.$("#feedback-btn").hasClass("open")&&window.$("#feedback-btn button").trigger("click")}),window.$("#feedbackForm").submit(function(){window.$("#feedback_dimmer").dimmer("toggle");var e=window.$(this).attr("action"),t=window.$(this).serializeArray();return window.$.ajax({url:e+"/feedback",type:"POST",data:t,success:function(e){window.$("#message").val(""),window.$("#feedback_dimmer").dimmer("toggle"),window.$("#feedback_success").dimmer("toggle"),setTimeout(function(){window.$("#feedback-btn button").trigger("click"),window.$("#feedback_success").dimmer("toggle")},500)},error:function(e){window.$("#feedback_dimmer").dimmer("toggle")}}),!1})}},,,,,,function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";function i(e){return 0!=window.$(e).length}function a(e,t){var n=window.$(t),i=window.$(e+","+t);window.$(document).on("mouseup",function(e){n.hasClass("hidden")||i.is(e.target)||0!==i.has(e.target).length||n.transition("fade down")})}function s(e,t,n){for(var i=0;i<e.length;i++)n.removeClass(e[i]);n.addClass(t)}function o(e){window.$(e).each(function(e,t){""!==$(t).html()&&$(t).html(persianJs($(t).html()).englishNumber().toString())})}function r(){var e=window.$(".mobile.steps"),t=window.$(".computer.menu #user_btn"),n=window.$(".mobile.menu #user_btn"),a=window.$(".computer.vertical.menu"),s=window.$(".mobile.vertical.menu"),o=n[0].offsetLeft,r=2*n[0].offsetTop+n[0].offsetHeight;s.css("left",o),s.css("top",r);var d=t[0].offsetLeft,l=2*t[0].offsetTop+t[0].offsetHeight;if(a.css("left",d),a.css("top",l),i("#p_student_semestercourses")){var c=window.$("#units_summery.desktop"),u=(window.innerHeight-c[0].offsetHeight)/2;c.css("top",u);var m=window.$("#units_summery.mobile"),f=(window.innerWidth-m[0].offsetWidth)/2;m.css("left",f)}screen.width>767?(s.hasClass("hidden")||(s.removeClass("visible"),s.addClass("hidden")),e.hasClass("hidden")||(e.removeClass("visible"),e.addClass("hidden"))):a.hasClass("hidden")||(a.removeClass("visible"),a.addClass("hidden"))}function d(){!function(){var e=window.$(".ui.course.cards"),t=["one","two","three","four"];window.innerWidth>1199?s(t,"four",e):window.innerWidth>991?s(t,"three",e):window.innerWidth>559?s(t,"two",e):s(t,"one",e)}(),screen.width<768?(window.$(".ui.container .segment .fluid.main.steps").removeClass("large").addClass("tiny"),window.$(".ui.container .segment .blue.fluid.button").removeClass("huge"),window.$("#feedback-panel").hide()):(window.$(".ui.container .segment .fluid.main.steps").removeClass("tiny").addClass("large"),window.$(".ui.container .segment .blue.fluid.button").addClass("huge"),window.$("#feedback-panel").show())}function l(e,t,n,i){for(var a=1,s=0;s<i[e].length;s++)(t>=i[e][s].st&&t<=i[e][s].et||n>=i[e][s].st&&n<=i[e][s].et)&&a++;return a}function c(e,t){var n={saturday:[],sunday:[],monday:[],tuesday:[],wednesday:[]};e.html("");for(var i=0;i<schedule_data.length;i++)!function(e,t,n,i,a,s,o,r){var d=window.$("<div>",{class:"title"});d.html(t.course_name);var c="";""!==t.group_number&&(c+="گروه: "+t.group_number),""!==t.instructor_name&&(c+=" | استاد درس: "+t.instructor_name),""!==t.classroom&&(c+=" | کلاس: "+t.classroom),""!==t.exam_date&&(c+=" | تاریخ امتحان: "+t.exam_date),""!==t.exam_time&&(c+=" | ساعت امتحان: "+t.exam_time);var u=window.$("<div>",{class:"course lecture","data-schedule-id":t.schedule_id,"data-course-id":t.course_id,"data-weekday":n,"data-tooltip":c,"data-position":"bottom center"});u.html(d),u.prepend('\n    <div class="ui inverted dimmer">\n        <div class="ui loader"></div>\n    </div>\n    '),u.css("background-color",s);var m=i.split(":"),f=a.split(":"),h=60*(parseInt(f[0])-parseInt(m[0]))+(parseInt(f[1])-parseInt(m[1]));u.css("width",o.tblock_h*(h/15)),e.append(u);var w=60*parseInt(m[0])+parseInt(m[1])+1,g=60*parseInt(f[0])+parseInt(f[1]),$=1;switch(n){case"saturday":$=l(n,w,g,r),u.css("right",16+$*u[0].offsetHeight+o.timecol_w);break;case"sunday":$=l(n,w,g,r),u.css("right",16+$*u[0].offsetHeight+o.timecol_w+o.weekday_w);break;case"monday":$=l(n,w,g,r),u.css("right",16+$*u[0].offsetHeight+o.timecol_w+2*o.weekday_w);break;case"tuesday":$=l(n,w,g,r),u.css("right",16+$*u[0].offsetHeight+o.timecol_w+3*o.weekday_w);break;case"wednesday":$=l(n,w,g,r),u.css("right",16+$*u[0].offsetHeight+o.timecol_w+4*o.weekday_w)}r[n].push({id:t.course_id,st:w,et:g});var p=(60*(parseInt(m[0])-8)+parseInt(m[1]))/15*o.tblock_h;u.css("top",o.top_offset+o.header_h+o.tblock_h+p)}(e,schedule_data[i].lecture_info,schedule_data[i].weekday,schedule_data[i].start_time,schedule_data[i].end_time,schedule_data[i].course_color,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0);window.$(function(){!function(){if(window.$("#month_year").html((new persianDate).format("MMMM YYYY")),window.$.ajaxSetup({headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}}),u.a(),function(){var e=window.$(".mobile.menu #steps_btn"),t=window.$(".mobile.steps");e.on("click",function(){t.transition("fade down")}),a(".mobile.menu #steps_btn",".mobile.steps");var n=window.$(".computer.menu #user_btn"),i=window.$(".mobile.menu #user_btn"),s=window.$(".computer.vertical.menu"),o=window.$(".mobile.vertical.menu");n.on("click",function(){s.transition("fade down")}),i.on("click",function(){o.transition("fade down")}),a(".computer.menu #user_btn",".computer.vertical.menu"),a(".mobile.menu #user_btn",".mobile.vertical.menu"),window.$(".basic.logout.icon.button").on("click",function(){window.$("#logout_form").submit()})}(),r(),d(),i("#p_student_home")&&window.$("#p_student_home .unix.date").each(function(e,t){var n=new persianDate(parseInt($(t).html()));$(t).html(n.format("D MMMM"))}),i("#p_student_passedcourses")){var e=["red","green","hidden","checkmark","remove"],t=window.$(".ui.course.card");t.on("mouseenter",function(){"taken"===$(this).attr("data-state")?(s(e,"red",$(this)),s(e,"red",$(this).find(".right.corner.label")),s(e,"remove",$(this).find(".right.corner.label i"))):(s(e,"green",$(this)),s(e,"green",$(this).find(".right.corner.label")),s(e,"checkmark",$(this).find(".right.corner.label i")))}),t.on("mouseleave",function(){"taken"===$(this).attr("data-state")?(s(e,"green",$(this)),s(e,"green",$(this).find(".right.corner.label")),s(e,"checkmark",$(this).find(".right.corner.label i"))):(s(e,"",$(this)),s(e,"hidden",$(this).find(".right.corner.label")),s(e,"",$(this).find(".right.corner.label i")))}),t.on("click",function(){if("taken"===$(this).attr("data-state")){var t=$(this);t.find(".inverted.dimmer").dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("passed-courses","")+t.attr("data-id")+"/unpass",type:"POST",success:function(n,i,a){t.attr("data-state","nottaken"),s(e,"",t),s(e,"hidden",t.find(".right.corner.label")),s(e,"",t.find(".right.corner.label i")),t.find(".inverted.dimmer").dimmer("toggle")},error:function(e,n,i){t.find(".inverted.dimmer").dimmer("toggle")}})}else{var n=$(this);n.find(".inverted.dimmer").dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("passed-courses","")+n.attr("data-id")+"/pass",type:"POST",success:function(t,i,a){n.attr("data-state","taken"),s(e,"green",n),s(e,"green",n.find(".right.corner.label")),s(e,"checkmark",n.find(".right.corner.label i")),n.find(".inverted.dimmer").dimmer("toggle")},error:function(e,t,i){n.find(".inverted.dimmer").dimmer("toggle")}})}})}if(i("#p_student_semestercourses")){o(".ui.massive.inverted.center.aligned.segment"),o("#units_summery .units div"),window.$(".ui.indicating.progress").progress({label:"ratio",text:{active:"تا الان {value} نفر از {total} نفر حداقل مورد نیاز برای ارائه‌ی این درس آن را گرفته اند.",success:"بیش از {value} نفر این درس را گرفته اند! این درس در ترم جاری ارائه خواهد شد.",ratio:"{value}/{total}"}});var n=["red","green","hidden","checkmark","remove"],l=window.$(".ui.course.card");l.on("mouseenter",function(){"taken"===$(this).attr("data-state")?(s(n,"red",$(this)),s(n,"red",$(this).find(".right.corner.label")),s(n,"remove",$(this).find(".right.corner.label i"))):(s(n,"green",$(this)),s(n,"green",$(this).find(".right.corner.label")),s(n,"checkmark",$(this).find(".right.corner.label i")))}),l.on("mouseleave",function(){"taken"===$(this).attr("data-state")?(s(n,"green",$(this)),s(n,"green",$(this).find(".right.corner.label")),s(n,"checkmark",$(this).find(".right.corner.label i"))):(s(n,"",$(this)),s(n,"hidden",$(this).find(".right.corner.label")),s(n,"",$(this).find(".right.corner.label i")))}),l.on("click",function(){var e=$(this).attr("data-units"),t=$(this).attr("data-category")-1;if("taken"===$(this).attr("data-state")){var i=$(this);i.find(".inverted.dimmer").dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("semester-courses","")+i.attr("data-id")+"/untake",type:"POST",success:function(a,r,d){i.attr("data-state","nottaken"),s(n,"",i),s(n,"hidden",i.find(".right.corner.label")),s(n,"",i.find(".right.corner.label i"));var l=window.$(".category.sum i");l.hasClass("warning yellow")&&(l.removeClass("warning yellow").addClass("plus grey"),window.$(".units.sum").css("background-color","#666666"));var c=i.find(".ui.indicating.progress").attr("data-value");i.find(".ui.indicating.progress").attr("data-value",--c),i.find(".ui.indicating.progress").progress("set progress",c);var u=window.$(".desktop .units.number:eq("+t+") div"),m=u.attr("data-value");u.html(+m-+e),u.attr("data-value",+m-+e);var f=window.$(".mobile .units.number:eq("+t+") div"),h=f.attr("data-value");f.html(+h-+e),f.attr("data-value",+h-+e);var w=window.$(".desktop .units.sum div:first"),g=w.attr("data-value");w.html(+g-+e),w.attr("data-value",+g-+e);var $=window.$(".mobile .units.sum div:first"),p=$.attr("data-value");$.html(+p-+e),$.attr("data-value",+p-+e),o("#units_summery .units div"),window.$(".desktop .category.button:eq("+t+")").transition("pulse"),window.$(".mobile .category.button:eq("+t+")").transition("pulse"),i.find(".inverted.dimmer").dimmer("toggle")},error:function(e,t,n){i.find(".inverted.dimmer").dimmer("toggle")}})}else{var a=$(this);a.find(".inverted.dimmer").dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("semester-courses","")+a.attr("data-id")+"/take",type:"POST",success:function(i,r,d){if("UNITS_RANGE_ERROR"===i)window.$(".category.sum i").removeClass("plus grey").addClass("warning yellow"),window.$(".category.sum").transition("shake"),window.$(".units.sum").css("background-color","#E2AA08");else{a.attr("data-state","taken"),s(n,"green",a),s(n,"green",a.find(".right.corner.label")),s(n,"checkmark",a.find(".right.corner.label i"));var l=window.$(".category.sum i");l.hasClass("warning yellow")&&(l.removeClass("warning yellow").addClass("plus grey"),window.$(".units.sum").css("background-color","#666666"));var c=a.find(".ui.indicating.progress").attr("data-value");a.find(".ui.indicating.progress").attr("data-value",++c),a.find(".ui.indicating.progress").progress("set progress",c);var u=window.$(".desktop .units.number:eq("+t+") div"),m=u.attr("data-value");u.html(+m+ +e),u.attr("data-value",+m+ +e);var f=window.$(".mobile .units.number:eq("+t+") div"),h=f.attr("data-value");f.html(+h+ +e),f.attr("data-value",+h+ +e);var w=window.$(".desktop .units.sum div:first"),g=w.attr("data-value");w.html(+g+ +e),w.attr("data-value",+g+ +e);var $=window.$(".mobile .units.sum div:first"),p=$.attr("data-value");$.html(+p+ +e),$.attr("data-value",+p+ +e),o("#units_summery .units div"),window.$(".desktop .category.button:eq("+t+")").transition("jiggle"),window.$(".mobile .category.button:eq("+t+")").transition("jiggle")}a.find(".inverted.dimmer").dimmer("toggle")},error:function(e,t,n){a.find(".inverted.dimmer").dimmer("toggle")}})}}),window.$("#units_summery.desktop .category.sum").popup({on:"hover",transition:"fade down"}),window.$("#units_summery.desktop .category.button").hover(function(){$(this).siblings(".units").animate({width:"56px"},250,function(){$(this).find("div").show()})},function(){$(this).siblings(".units").animate({width:"0px"},250,function(){$(this).find("div").hide()})}),window.$("#units_summery.desktop .category.sum").hover(function(){$(this).siblings(".units").animate({width:"84px"},250,function(){$(this).find("div").show()}),$(".units.number").animate({width:"56px"},250,function(){$(this).find("div").show()})},function(){$(this).siblings(".units").animate({width:"0px"},250,function(){$(this).find("div").hide()}),$(".units.number").animate({width:"0px"},250,function(){$(this).find("div").hide()})}),window.$("#units_summery.mobile .category.sum").popup({on:"hover",transition:"fade down",onVisible:function(){window.$(".ui.popup").animate({bottom:"+=56px"},250)}}),window.$("#units_summery.mobile .category.button").hover(function(){$(this).siblings(".units").css("width","56px").animate({top:"-56px"},250,function(){$(this).find("div").show()})},function(){$(this).siblings(".units").animate({top:"0px"},250,function(){$(this).css("width","0"),$(this).find("div").hide()})}),window.$("#units_summery.mobile .category.sum").hover(function(){$(this).siblings(".units").css("width","56px").animate({top:"-56px"},250,function(){$(this).find("div").show()}),$(".units.number").css("width","56px").animate({top:"-56px"},250,function(){$(this).find("div").show()})},function(){$(this).siblings(".units").animate({top:"0px"},250,function(){$(this).css("width","0"),$(this).find("div").hide()}),$(".units.number").animate({top:"0px"},250,function(){$(this).css("width","0"),$(this).find("div").hide()})})}if(i("#p_student_instructorsuggestion")){var m=window.$(".ui.course.card"),f=window.$(".ui.instructor.card"),h=window.$("#instructor_suggest.modal"),w=["red","green","hidden","legal","checkmark","remove"];m.hover(function(){"voted"===$(this).attr("data-state")?$(this).find(".right.corner.label i").transition("flash"):(s(w,"green",$(this)),s(w,"green",$(this).find(".right.corner.label")),s(w,"legal",$(this).find(".right.corner.label i")))},function(){"voted"!==$(this).attr("data-state")&&(s(w,"",$(this)),s(w,"hidden",$(this).find(".right.corner.label")),s(w,"",$(this).find(".right.corner.label i")))}),m.on("click",function(){var e=$(this);e.find(".inverted.dimmer").dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("instructor-suggestion","")+e.attr("data-id")+"/votes",type:"GET",success:function(t,n,i){f.each(function(e,t){$(t).attr("data-state","notselected"),s(w,"",$(t)),s(w,"hidden",$(t).find(".right.corner.label")),s(w,"",$(t).find(".right.corner.label i"))});for(var a=0;a<t.length;a++){var o=window.$("#instructor_"+t[a]);o.attr("data-state","selected"),s(w,"green",o),s(w,"green",o.find(".right.corner.label")),s(w,"checkmark",o.find(".right.corner.label i"))}e.find(".inverted.dimmer").dimmer("toggle"),h.attr("data-id",e.attr("data-id")),h.modal("show")},error:function(t,n,i){e.find(".inverted.dimmer").dimmer("toggle")}})}),f.hover(function(){"selected"===$(this).attr("data-state")?(s(w,"red",$(this)),s(w,"red",$(this).find(".right.corner.label")),s(w,"remove",$(this).find(".right.corner.label i"))):(s(w,"green",$(this)),s(w,"green",$(this).find(".right.corner.label")),s(w,"checkmark",$(this).find(".right.corner.label i")))},function(){"selected"===$(this).attr("data-state")?(s(w,"green",$(this)),s(w,"green",$(this).find(".right.corner.label")),s(w,"checkmark",$(this).find(".right.corner.label i"))):(s(w,"",$(this)),s(w,"hidden",$(this).find(".right.corner.label")),s(w,"",$(this).find(".right.corner.label i")))}),f.on("click",function(){$(this).find(".inverted.dimmer").dimmer("toggle"),"selected"===$(this).attr("data-state")?($(this).attr("data-state","notselected"),s(w,"",$(this)),s(w,"hidden",$(this).find(".right.corner.label")),s(w,"",$(this).find(".right.corner.label i"))):($(this).attr("data-state","selected"),s(w,"green",$(this)),s(w,"green",$(this).find(".right.corner.label")),s(w,"checkmark",$(this).find(".right.corner.label i"))),$(this).find(".inverted.dimmer").dimmer("toggle")}),h.modal({onApprove:function(){var e=[];f.each(function(t,n){e.push({id:$(n).attr("data-id"),state:$(n).attr("data-state")})}),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("instructor-suggestion","")+h.attr("data-id")+"/vote",type:"POST",data:JSON.stringify(e),contentType:"application/json",success:function(e,t,n){window.location=document.location.origin+document.location.pathname},error:function(e,t,n){}})}})}if(i("#p_student_evaluate_schedule")){window.$("#p_student_evaluate_schedule .unix.date").each(function(e,t){var n=new persianDate(parseInt($(t).html()));$(t).html(n.format("D MMMM"))}),o(".p_number");var g={top_offset:window.$("#schedule_table table")[0].offsetTop,header_h:window.$("#schedule_table table thead tr")[0].offsetHeight,tblock_h:window.$("#schedule_table table tbody tr")[0].offsetHeight/2,timecol_w:window.$("#schedule_table table tbody tr td:first-child")[0].offsetWidth,weekday_w:window.$("#schedule_table table thead tr th:last-child")[0].offsetWidth},p=window.$("#schedule_table .schedule");c(p,g);var b=p.find(".course.lecture"),v=window.$("#evaluate_lecture");if(b.on("click",function(){var e=$(this).attr("data-schedule-id"),t=$(this).find(".ui.inverted.dimmer");t.dimmer("toggle"),window.$.ajax({url:document.location.origin+document.location.pathname+"/"+e+"/modal",type:"GET",success:function(n,a,s){v.html(n),v.find("input[name=schedule_id]").val(e),o(".p_number"),v.find(".menu .item").tab({onLoad:function(){v.modal("refresh")}}),v.find(".ui.dropdown").dropdown(),v.find(".timepicker").timepicker({timeFormat:"HH:mm:ss",interval:15,minTime:"08:00",maxTime:"20:00",dynamic:!1,dropdown:!0,scrollbar:!0});var r=v.find("input[name=suggested_exam_date]").persianDatepicker({initialValue:!1,observer:!0,autoClose:!0,format:"YYYY/MM/DD",altField:"#evaluate_lecture input[name=suggested_exam_date_unix]",toolbox:{enabled:!1}});i("#evaluate_lecture input[name=suggested_exam_date_unix]")&&""!==v.find("input[name=suggested_exam_date_unix]").val()&&r.setDate(parseInt(v.find("input[name=suggested_exam_date_unix]").val())),v.find("form").form({fields:{suggestion_reason_1:"maxLength[250]",suggestion_reason_2:"maxLength[250]",exam_suggestion_reason:"maxLength[250]",privacy:"empty"}}),v.find("form").on("submit",function(){var e=!0;return""===v.find("select[name=suggested_weekday_1]").val()&&""===v.find("select[name=suggested_weekday_2]").val()&&""===v.find("input[name=suggested_exam_date]").val()&&(e&&v.find("form,form .field,form .fields").removeClass("error"),v.find("form").addClass("error"),v.find("select[name=suggested_weekday_1]").parent().parent().parent().addClass("error"),v.find("select[name=suggested_weekday_2]").parent().parent().parent().addClass("error"),v.find("input[name=suggested_exam_date]").parent().parent().addClass("error"),v.find("textarea[name=suggestion_reason_1]").parent().addClass("error"),v.find("textarea[name=suggestion_reason_2]").parent().addClass("error"),v.find("textarea[name=exam_suggestion_reason]").parent().addClass("error"),e=!1),""!==v.find("select[name=suggested_weekday_1]").val()&&(""!==v.find("input[name=suggested_start_time_1]").val()&&""!==v.find("input[name=suggested_end_time_1]").val()&&""!==v.find("textarea[name=suggestion_reason_1]").val()||(e&&v.find("form,form .field,form .fields").removeClass("error"),v.find("form").addClass("error"),v.find("select[name=suggested_weekday_1]").parent().parent().parent().addClass("error"),v.find("textarea[name=suggestion_reason_1]").parent().addClass("error"),e=!1)),""!==v.find("select[name=suggested_weekday_2]").val()&&(""!==v.find("input[name=suggested_start_time_2]").val()&&""!==v.find("input[name=suggested_end_time_2]").val()&&""!==v.find("textarea[name=suggestion_reason_2]").val()||(e&&v.find("form,form .field,form .fields").removeClass("error"),v.find("form").addClass("error"),v.find("select[name=suggested_weekday_2]").parent().parent().parent().addClass("error"),v.find("textarea[name=suggestion_reason_2]").parent().addClass("error"),e=!1)),""!==v.find("input[name=suggested_exam_date]").val()&&(""!==v.find("input[name=suggested_exam_date_unix]").val()&&""!==v.find("input[name=suggested_exam_time]").val()&&""!==v.find("textarea[name=exam_suggestion_reason]").val()||(e&&v.find("form,form .field,form .fields").removeClass("error"),v.find("form").addClass("error"),v.find("input[name=suggested_exam_date]").parent().parent().addClass("error"),v.find("textarea[name=exam_suggestion_reason]").parent().addClass("error"),e=!1)),e}),v.find("#erase_form").on("click",function(){v.find("form").form("clear"),v.find("select[name=privacy]").val("private"),v.find("form,form .field,form .fields").removeClass("error"),v.find(".ui.dropdown").dropdown()}),v.find("#delete_btn").on("click",function(){v.find("#delete_form").submit()});var d=v.find(".card #upvote"),l=v.find(".card #downvote");d.hover(function(){$(this).toggleClass("blue-color"),$(this).hasClass("blue-color")?$(this).find("span").html((parseInt($(this).find("span").html())+1).toString()):$(this).find("span").html((parseInt($(this).find("span").html())-1).toString())},function(){$(this).toggleClass("blue-color"),$(this).hasClass("blue-color")?$(this).find("span").html((parseInt($(this).find("span").html())+1).toString()):$(this).find("span").html((parseInt($(this).find("span").html())-1).toString())}),l.hover(function(){$(this).toggleClass("red-color"),$(this).hasClass("red-color")?$(this).find("span").html((parseInt($(this).find("span").html())-1).toString()):$(this).find("span").html((parseInt($(this).find("span").html())+1).toString())},function(){$(this).toggleClass("red-color"),$(this).hasClass("red-color")?$(this).find("span").html((parseInt($(this).find("span").html())-1).toString()):$(this).find("span").html((parseInt($(this).find("span").html())+1).toString())}),d.on("click",function(){var e=$(this).attr("data-id"),t=$(this).parent().siblings(".dimmer"),n="0";$(this).hasClass("blue-color")&&(n="1");var i=$(this);t.dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("evaluate-schedule","evaluation/")+e+"/upvote/"+n,type:"POST",success:function(e,a,s){i.find("span").html(e[0]),i.siblings("#downvote").find("span").html(e[1]),i.hasClass("blue-color")||"1"!==n?i.removeClass("blue-color"):i.addClass("blue-color"),i.siblings("#downvote").hasClass("red-color")&&i.siblings("#downvote").removeClass("red-color"),t.dimmer("toggle")},error:function(e,n,i){t.dimmer("toggle")}})}),l.on("click",function(){var e=$(this).attr("data-id"),t=$(this).parent().siblings(".dimmer"),n="0";$(this).hasClass("red-color")&&(n="1");var i=$(this);t.dimmer("toggle"),window.$.ajax({url:(document.location.origin+document.location.pathname).replace("evaluate-schedule","evaluation/")+e+"/downvote/"+n,type:"POST",success:function(e,a,s){i.find("span").html(e[1]),i.siblings("#upvote").find("span").html(e[0]),i.hasClass("red-color")||"1"!==n?i.removeClass("red-color"):i.addClass("red-color"),i.siblings("#upvote").hasClass("blue-color")&&i.siblings("#upvote").removeClass("blue-color"),t.dimmer("toggle")},error:function(e,n,i){t.dimmer("toggle")}})}),v.modal("show"),t.dimmer("toggle")},error:function(e,n,i){t.dimmer("toggle")}})}),i("#p_student_evaluate_schedule .message.session")){var _=window.$("#p_student_evaluate_schedule .message.session"),k=window.$(".ui.container")[0].offsetWidth;_.css("left",((window.innerWidth-k-16)/2).toString()+"px"),_.css("display","block"),window.$("#p_student_evaluate_schedule .message.session .close").on("click",function(){$(this).closest(".message").transition("fade")}),setTimeout(function(){window.$("#p_student_evaluate_schedule .message.session").hasClass("hidden")||window.$("#p_student_evaluate_schedule .message.session").transition("fade")},4e3)}}if(i("#p_student_final_schedule")){var y={top_offset:window.$("#schedule_table table")[0].offsetTop,header_h:window.$("#schedule_table table thead tr")[0].offsetHeight,tblock_h:window.$("#schedule_table table tbody tr")[0].offsetHeight/2,timecol_w:window.$("#schedule_table table tbody tr td:first-child")[0].offsetWidth,weekday_w:window.$("#schedule_table table thead tr th:last-child")[0].offsetWidth};c(window.$("#schedule_table .schedule"),y)}i("#p_student_edit_information")&&(window.$(".ui.dropdown").dropdown(),i(".message.session")&&(window.$(".message.session .close").on("click",function(){$(this).closest(".message").transition("fade")}),setTimeout(function(){window.$(".message.session").hasClass("hidden")||window.$(".message.session").transition("fade")},4e3))),i("#p_student_change_password")&&i(".message.session")&&(window.$(".message.session .close").on("click",function(){$(this).closest(".message").transition("fade")}),setTimeout(function(){window.$(".message.session").hasClass("hidden")||window.$(".message.session").transition("fade")},4e3))}(),window.$(window).resize(function(){r(),d()})})}]);